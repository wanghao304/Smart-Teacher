# 智导小程序 - 开发指南

**版本**: v3.0  
**最后更新**: 2025-11-21

---

## 🎯 项目概述

**智导** = 为用户匹配合适的导师，解决项目执行问题

### 核心价值
- 用户想做不熟悉的事 → 找到对应行业的导师
- 医生想开羊肉粉馆 → 餐饮导师（不是医疗导师）
- 销售想学AI编程 → 编程导师（不是销售导师）

---

## 📁 当前项目结构

```
miniprogram-clean/
├── pages/
│   ├── index/          # 首页（已完成）
│   │   ├── index.js
│   │   ├── index.wxml
│   │   ├── index.wxss
│   │   └── index.json
│   ├── profile/        # 档案系统（v3.0 - 已完成）✅
│   │   ├── profile.js
│   │   ├── profile.wxml
│   │   ├── profile.wxss
│   │   └── profile.json
│   └── chat/           # AI对话（已完成）
│       ├── chat.js
│       ├── chat.wxml
│       ├── chat.wxss
│       └── chat.json
├── utils/
│   └── api.js          # API工具（已完成）
├── database/
│   └── schema.sql      # 数据库表结构
├── app.js              # 应用入口
├── app.json            # 应用配置
├── app.wxss            # 全局样式
├── project.config.json # 项目配置
└── 设计文档/
    ├── PROFILE_DESIGN_V3.md        # v3.0档案设计 ⭐
    ├── MENTOR_MATCHING_DESIGN.md   # v2.0匹配设计
    └── COMPLETE_FEATURES.md        # 功能清单
```

---

## ✅ 已完成功能

### 1. 首页 (pages/index)
- ✅ 欢迎页面
- ✅ 快捷入口（建立档案、AI对话）
- ✅ 用户状态显示
- ✅ 渐变设计风格

### 2. 档案系统 v3.0 (pages/profile) ⭐⭐⭐
**设计理念**: 轻量、智能、精准

**4步快速采集（3-5分钟）**:
1. **你想做什么？** (90秒)
   - 项目类型
   - 具体目标
   - **目标行业** ← 决定匹配什么导师
   - 为什么要做
   - 期望时间

2. **你现在在哪？** (60秒)
   - 当前身份（辅助）
   - 技能水平
   - 相关经验
   - 已有资源

3. **你希望如何学习？** (60秒)
   - 学习节奏
   - 学习方式
   - 沟通偏好
   - 导师类型

4. **快速画像（可跳过）** (60秒)
   - 最大挑战
   - 每周时间
   - 预算范围
   - 紧急程度

**特点**:
- ✅ 先问目标，不是背景
- ✅ 实时进度提示
- ✅ 字数统计
- ✅ 可跳过第4步
- ✅ 智能提示

### 3. AI对话 (pages/chat)
- ✅ 与豆包AI实时对话
- ✅ 上下文管理
- ✅ 聊天历史
- ✅ 快捷回复建议

### 4. API工具 (utils/api.js)
- ✅ 豆包AI接口
- ✅ Supabase数据库接口
- ✅ 用户配额管理

---

## 🚀 快速开始

### 1. 环境配置

**必需**:
- 微信开发者工具
- Supabase账号（数据库）
- 豆包AI API密钥

**配置API密钥**:

在 `app.js` 中配置：
```javascript
globalData: {
  supabaseUrl: 'YOUR_SUPABASE_URL',
  supabaseKey: 'YOUR_SUPABASE_KEY',
  doubaoApiKey: 'YOUR_DOUBAO_API_KEY'
}
```

### 2. 导入项目

1. 打开微信开发者工具
2. 导入项目：选择 `miniprogram-clean` 文件夹
3. AppID: `wx4e2ff53a74091965`（或使用测试号）
4. 点击"编译"

### 3. 测试流程

1. **首页测试**
   - 查看欢迎页
   - 检查快捷入口

2. **档案系统测试** ⭐
   - 点击"建立档案"
   - 填写4步表单
   - 验证：
     - 进度条动画
     - 实时时间提示
     - 字数统计
     - 跳过功能
     - 选中状态（紫蓝渐变）
   - 完成后查看匹配提示

3. **AI对话测试**
   - 点击"AI对话"
   - 发送消息
   - 检查AI回复

---

## 🎯 核心设计逻辑

### 档案采集逻辑

**核心公式**:
```
用户想做什么 → 匹配什么导师
（不是：用户是什么 → 匹配什么导师）
```

**匹配算法**:
```
导师匹配分数 = 
  目标行业匹配 × 50%  ← 最重要
  技能水平匹配 × 20%
  问题类型匹配 × 15%
  风格偏好匹配 × 10%
  资源预算匹配 × 5%
```

**案例验证**:

✅ **医生想开羊肉粉馆**
```yaml
目标行业: 餐饮/食品
  → 匹配: 餐饮连锁创始人
  → 不匹配: 医疗专家
```

✅ **销售想学AI编程**
```yaml
目标行业: 互联网/科技
  → 匹配: AI工程师（擅长教学）
  → 不匹配: 销售总监
```

---

## 📋 下一步开发

### Phase 1: 导师系统
- [ ] 创建导师档案页面
- [ ] 导师列表展示
- [ ] 导师详情页
- [ ] 匹配算法实现

### Phase 2: 匹配功能
- [ ] 根据用户档案匹配导师
- [ ] 显示匹配度分数
- [ ] 导师推荐列表
- [ ] 一键联系导师

### Phase 3: 项目管理
- [ ] 项目创建
- [ ] 项目进度跟踪
- [ ] 里程碑设置
- [ ] 导师指导记录

### Phase 4: 数据库集成
- [ ] 用户档案存储到Supabase
- [ ] 导师信息管理
- [ ] 匹配记录持久化
- [ ] 聊天历史同步

### Phase 5: 优化
- [ ] AI智能追问（Phase 2）
- [ ] 渐进式档案采集（Phase 3）
- [ ] 性能优化
- [ ] 用户体验改进

---

## 🎨 设计规范

### 颜色
```css
主色调: #6366f1 (紫蓝)
辅助色: #764ba2 (深紫)
成功色: #16a34a (绿)
警告色: #dc2626 (红)
背景色: #f0f4ff → #ffffff (渐变)
```

### 字体
```css
超大标题: 44rpx
标题: 32-40rpx
正文: 28rpx
辅助文字: 24-26rpx
```

### 圆角
```css
卡片: 24-32rpx
按钮: 16rpx
输入框: 12-16rpx
标签: 24rpx
```

---

## 📖 重要文档

1. **PROFILE_DESIGN_V3.md** ⭐⭐⭐
   - v3.0档案系统完整设计
   - 包含设计逻辑、匹配算法、案例验证

2. **MENTOR_MATCHING_DESIGN.md**
   - v2.0导师匹配设计（已废弃，但保留参考）

3. **COMPLETE_FEATURES.md**
   - 功能清单

---

## 🐛 常见问题

### Q: 编译报错？
**A**: 检查：
1. `app.json` 配置是否正确
2. 所有页面的 `*.json` 文件都有 `"usingComponents": {}`
3. API密钥是否配置

### Q: 档案页面显示异常？
**A**: 检查：
1. `profile.js` 数据初始化
2. `profile.wxml` 绑定是否正确
3. `profile.wxss` 样式加载

### Q: 如何测试匹配算法？
**A**: 
1. 填写档案，选择不同的"目标行业"
2. 查看匹配提示
3. 验证是否推荐正确行业的导师

---

## ✅ 验收标准

### 档案系统 v3.0
- [ ] 4步表单流程完整
- [ ] 进度条实时更新
- [ ] 时间提示准确（⏱️ 预计还需 XX 秒）
- [ ] 字数统计显示
- [ ] 第4步可跳过
- [ ] 选中状态明显（紫蓝渐变）
- [ ] 完成后显示匹配摘要
- [ ] 3-5分钟完成填写
- [ ] 医生+开店 → 推荐餐饮导师
- [ ] 销售+编程 → 推荐编程导师

---

## 🎯 成功指标

1. **用户体验**
   - 档案完成时间 < 5分钟
   - 用户流失率 < 20%
   - 表单完成率 > 80%

2. **匹配精准度**
   - 目标行业匹配 = 100%
   - 导师推荐满意度 > 85%

3. **系统性能**
   - 页面加载时间 < 2秒
   - 匹配计算时间 < 3秒

---

**祝开发顺利！** 🚀

如有问题，参考设计文档或联系开发团队。
