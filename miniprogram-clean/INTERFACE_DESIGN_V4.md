# 智导小程序 - 全局重构设计论证 (V4.0)

**核心目标**: 打造一个"集体导师"与"师生关系"深度绑定的智能辅助平台。

---

## 🔄 核心流程重构

### 1. 用户生命周期管理

#### 情况1：新用户 (首次进入)
流程路径：`登录/注册` -> `价值主张(Intro)` -> `信息采集(Profile)` -> `导师设置(Mentor)` -> `AI分析` -> `项目录入(Project)` -> `AI组队` -> `执行(Main)`

1.  **登录/注册**:
    *   **功能**: 微信一键登录，获取手机号（模拟）。
    *   **目的**: 建立用户唯一标识。
2.  **价值主张 (第一步)**:
    *   **内容**: 介绍"智导" = 集体导师 + 师生关系。
    *   **目的**: 认知对齐。
3.  **信息采集 (第二步)**:
    *   **内容**: 基础信息、职业背景、资源等。
    *   **改进**: 选中项颜色必须高亮（如深紫色填充+白色文字），按钮尺寸修复。
4.  **导师设置 (第三步)**:
    *   **方式**: 名人、自定义、AI推荐。
    *   **逻辑**: 建立初始"智囊团"。
5.  **AI分析 (第四步)**:
    *   **后台动作**: 分析导师方法论，存入数据库（Mock实现）。
6.  **项目录入 (第五步)**:
    *   **方式**: **自然语言输入** (e.g., "我要开一家羊肉粉馆")。
    *   **选项**: 增加"解决现在的工作"（如PPT/报告）vs "复杂项目"。
    *   **后台动作**: AI解析需求、属性、规模。
7.  **AI组队与方案 (第六步)**:
    *   **动作**: 匹配导师，生成To-Do List。
8.  **启动执行 (第七步)**:
    *   跳转至主界面。

#### 情况2：老用户 (已登录)
流程路径：直接进入 `主界面(Main)`

---

## 📱 主界面 (Main) 布局设计

采用 **分区布局 (Zone-based Layout)**：

### 🟦 B区：数据仪表盘 (Top)
*   **位置**: 顶部导航栏下方。
*   **内容**: 
    *   项目总数
    *   导师总数
    *   成功/失败/放弃项目数
*   **交互**: 点击数字跳转至对应列表。

### 🟨 A区：核心看板 (Center)
*   **位置**: 屏幕正中央，视觉焦点。
*   **内容**: **当前正在执行的项目**。
*   **交互**: 点击进入 **项目看板**。
    *   **项目看板功能**: 进度调整、导师群聊、建议/意见、学习资料。
    *   **关键设计**: **导师关系图** (展示谁参与了什么)。

### 🟩 C区：快捷功能 (Below A)
*   **位置**: A区下方。
*   **模块 (5个位，实装3个)**:
    1.  **新建导师**: 跳转导师录入。
    2.  **资料更新**: 跳转个人资料看板。
    3.  **新建项目**: 跳转项目录入。
    *   *(预留2个位置或居中排列)*

### 🟧 D区：AI对话框 (Bottom Content)
*   **位置**: C区下方，底部导航栏上方。
*   **样式**: 悬浮或固定底部的智能体对话框。
*   **功能**:
    *   **左侧**: 下拉菜单 (选择对话导师)。
    *   **中间**: 输入框。
    *   **右侧**: 语音/文字切换。
    *   **最右**: "+"号 (上传图片/视频/文件)。

### 🟪 E区：底部导航 (TabBar)
*   **位置**: 屏幕最底部。
*   **Tab 1: 首页 (Home)**
    *   逻辑: 保存当前状态，重置回主界面(A/B/C/D区)。
*   **Tab 2: 导师 (Mentors)**
    *   **A区 (上)**: 导师数据可视化 (使用率、评分、贡献、SWOT)。
    *   **B区 (下)**: 导师列表 (看板风格，支持分类筛选)。
    *   **详情页**: 点击导师 -> 独立看板 (任务、调用、评分、导出聊天)。
*   **Tab 3: 项目 (Projects)**
    *   内容: 所有项目列表 (执行中/失败/放弃)。
    *   详情: 同主页A区项目看板。
*   **Tab 4: 我的 (Mine)**
    *   内容: 退出、设置、资料、分享、钱包。

---

## 🎨 UI/UX 细节修正

1.  **资源选择高亮**: 选中状态背景色变深 (e.g., `#6366f1`)，文字变白，边框加粗。
2.  **按钮尺寸**: 统一底部按钮高度 (e.g., `88rpx`) 和圆角，避免过小或点击区域不足。
3.  **项目类型区分**: 在项目录入页，明确区分 "简单任务(PPT)" 和 "复杂项目(开店)"。

---

## 🛠️ 技术实现规划

1.  **数据库更新**: 
    *   `users`: 增加手机号、扩展信息字段。
    *   `mentors`: 增加评分、贡献度、方法论字段。
    *   `projects`: 增加状态(成功/失败/放弃)、自然语言描述、AI分析结果。
    *   `project_mentors`: 关联表，记录导师在项目中的角色。
    *   `chat_logs`: 增加附件类型字段。

2.  **页面重构**:
    *   新增 `pages/login/login`
    *   新增 `pages/intro/intro`
    *   重构 `pages/index/index` (实现A/B/C/D区)
    *   新增 `pages/mentors/index` (E区-导师)
    *   新增 `pages/projects/index` (E区-项目)
    *   新增 `pages/mine/index` (E区-我的)

---

**结论**: 该设计方案逻辑闭环，不仅解决了"如何匹配"的问题，更解决了"如何长期使用"和"如何执行"的问题。

接下来我将开始代码实现。
